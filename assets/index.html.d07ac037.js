import{_ as n,o as s,c as a,d as e}from"./app.30d0ff3e.js";const t={},p=e(`<h1 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> Webpack</h1><h2 id="webpack\u4E0Egulp\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#webpack\u4E0Egulp\u7684\u533A\u522B" aria-hidden="true">#</a> webpack\u4E0Egulp\u7684\u533A\u522B</h2><ul><li><p>gulp\u662F\u4E00\u4E2A\u57FA\u4E8E\u6D41\uFF08stream\uFF09\u81EA\u52A8\u5316\u6784\u5EFA\u5DE5\u5177\uFF0C\u53EF\u4EE5\u914D\u5408\u5404\u79CD\u63D2\u4EF6\u5BF9js\u3001css\u3001img\u7684\u538B\u7F29\u5408\u5E76\uFF0C\u505A\u5230\u51CF\u5C11\u6587\u4EF6\u4F53\u79EF\uFF0C\u52A0\u5FEB\u8BF7\u6C42\u901F\u5EA6\u548C\u8BF7\u6C42\u6B21\u6570\u3002\u5B83\u4F1A\u81EA\u52A8\u6267\u884C\u6307\u5B9A\u7684\u4EFB\u52A1\uFF0C\u5C31\u50CF <em>\u6D41\u6C34\u7EBF</em> \uFF0C\u901A\u8FC7\u4E0D\u540C\u7684\u63D2\u4EF6\u5BF9\u8D44\u6E90\u8FDB\u884C\u52A0\u5DE5\u3002</p></li><li><p>webpack\u662F\u4E00\u4E2A\u7528\u4E8E\u73B0\u4EE3JavaScript\u5E94\u7528\u7A0B\u5E8F\u7684 <em>\u9759\u6001\u6A21\u5757\u6253\u5305\u5DE5\u5177</em> \u3002\u5F53webpack\u5904\u7406\u5E94\u7528\u7A0B\u5E8F\u65F6\uFF0C\u5B83\u4F1A\u5728\u5185\u90E8\u4ECE\u4E00\u4E2A\u6216\u591A\u4E2A\u5165\u53E3\u9012\u5F52\u7684\u6784\u5EFA\u4E00\u4E2A <strong>\u4F9D\u8D56\u56FE</strong> \uFF0C\u7136\u540E\u5C06\u4F60\u9879\u76EE\u4E2D\u6240\u9700\u7684\u6BCF\u4E00\u4E2A\u6A21\u5757\u7EC4\u5408\u6210\u4E00\u4E2A\u6216\u591A\u4E2Abundles\uFF0C\u4ED6\u4EEC\u5747\u4E3A\u9759\u6001\u8D44\u6E90\uFF0C\u7528\u4E8E\u5C55\u793A\u4F60\u7684\u5185\u5BB9\u3002\u5982\u679C\u8BF4gulp\u662F\u4E00\u4E2A <em>\u6D41\u6C34\u7EBF</em> \u7684\u8BDD\uFF0Cwebpack\u5C31\u50CF\u4E00\u4E2A <em>\u5DE5\u5382</em> \uFF0C\u5B83\u4EEC\u7684\u4FA7\u91CD\u70B9\u4E0D\u4E00\u6837\uFF0C\u5DE5\u5382\u91CC\u81EA\u7136\u4F1A\u5305\u542B <em>\u6D41\u6C34\u7EBF</em> \uFF0Cgulp\u53EA\u662Fwebpack\u529F\u80FD\u7684\u4E00\u90E8\u5206\u3002</p><ul><li>\u9759\u6001\u6A21\u5757\uFF1A\u9759\u6001\u6A21\u5757\u6307\u7684\u662F\u5F00\u53D1\u9636\u6BB5\uFF0C\u53EF\u4EE5\u88ABwebpack\u76F4\u63A5\u5F15\u7528\u7684\u8D44\u6E90\uFF08\u53EF\u4EE5\u76F4\u63A5\u88AB\u83B7\u53D6\u6253\u5305\u8FDBbundle.js\u7684\u8D44\u6E90\uFF09</li><li>\u4F9D\u8D56\u56FE\uFF1A\u5F53webpack\u5904\u7406\u5E94\u7528\u7A0B\u5E8F\u65F6\uFF0C\u5B83\u4F1A\u5728\u5185\u90E8\u6784\u4EF6\u4E00\u4E2A\u4F9D\u8D56\u56FE\uFF0C\u6B64\u4F9D\u8D56\u56FE\u5BF9\u5E94\u6620\u5C04\u5230\u9879\u76EE\u6240\u9700\u7684\u6BCF\u4E2A\u6A21\u5757\uFF08\u4E0D\u5C40\u9650js\u6587\u4EF6\uFF09\uFF0C\u5E76\u751F\u6210\u4E00\u4E2A\u6216\u591A\u4E2Abundle</li></ul></li><li><p>gulp\u5B9E\u4F8B</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u83B7\u53D6\u63D2\u4EF6</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-babel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u5B9A\u4E49\u4EFB\u52A1</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;babel&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;./src/js&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u6D41</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/env&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// dest\u5199\u5165</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u5B9A\u4E49\u4EFB\u52A1\u5217\u8868</span>
<span class="token keyword">const</span> tasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;babel&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// \u4F7F\u7528series\u6309\u987A\u5E8F\u6267\u884C\u4EFB\u52A1</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;default&#39;</span><span class="token punctuation">,</span> gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token operator">...</span>tasks<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webpack\u76F8\u5173\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#webpack\u76F8\u5173\u6982\u5FF5" aria-hidden="true">#</a> webpack\u76F8\u5173\u6982\u5FF5</h2><ul><li>entry\uFF1A\u5165\u53E3\u8D77\u70B9\uFF0C\u7528\u6765\u544A\u8BC9webpack\u7528\u54EA\u4E2A\u6587\u4EF6\u4F5C\u4E3A\u6784\u5EFA\u4F9D\u8D56\u56FE\u7684\u8D77\u70B9\u3002webpack\u4F1A\u6839\u636Eentry\u9012\u5F52\u7684\u53BB\u5BFB\u627E\u4F9D\u8D56\uFF0C\u6BCF\u4E2A\u4F9D\u8D56\u90FD\u5C06\u88AB\u5B83\u5904\u7406\uFF0C\u6700\u540E\u8F93\u51FA\u5230\u6253\u5305\u6210\u679C\u4E2D\u3002</li><li>output\uFF1Aoutput\u5C5E\u6027\u544A\u8BC9webpack\u5728\u54EA\u91CC\u8F93\u51FA\u5B83\u6240\u521B\u5EFA\u7684bundle\uFF0C\u4EE5\u53CA\u5982\u4F55\u547D\u540D\u8FD9\u4E9B\u6587\u4EF6\u3002</li><li>mode\uFF1A4.0\u5F00\u59CB\uFF0Cwebpack\u652F\u6301\u96F6\u914D\u7F6E\uFF0C\u65E8\u5728\u4E3A\u5F00\u53D1\u4EBA\u5458\u51CF\u5C11\u4E0A\u624B\u96BE\u5EA6\uFF0C\u540C\u65F6\u52A0\u5165\u4E86mode\u7684\u6982\u5FF5\uFF0C\u7528\u4E8E\u6307\u5B9A\u6253\u5305\u7684\u76EE\u6807\u73AF\u5883\uFF0C\u4EE5\u4FBF\u5728\u6253\u5305\u7684\u8FC7\u7A0B\u4E2D\u542F\u7528webpack\u9488\u5BF9\u4E0D\u540C\u7684\u73AF\u5883\u4E0B\u5185\u7F6E\u7684\u4F18\u5316\u3002</li><li>loader\uFF1A\u9ED8\u8BA4\u60C5\u51B5\u4E0Bwebpack\u53EA\u80FD\u5904\u7406JavaScript\u548CJSON\u6587\u4EF6\u3002loader\u8BA9webpack\u80FD\u591F\u53BB\u5904\u7406\u5176\u4ED6\u7C7B\u578B\u7684\u6587\u4EF6\uFF0C\u5E76\u5C06\u5B83\u4EEC\u8F6C\u6362\u4E3A\u6709\u6548\u6A21\u5757\uFF0C\u4EE5\u4F9B\u5E94\u7528\u7A0B\u5E8F\u4F7F\u7528\u3002</li><li>plugin\uFF1Aloader\u7528\u4E8E\u8F6C\u6362\u67D0\u4E9B\u7C7B\u578B\u7684\u6A21\u5757\uFF0C\u800C\u63D2\u4EF6\u5219\u53EF\u4EE5\u7528\u4E8E\u6267\u884C\u8303\u56F4\u66F4\u5E7F\u7684\u4EFB\u52A1\u3002\u5305\u62EC\uFF1A\u6253\u5305\u4F18\u5316\uFF0C\u8D44\u6E90\u7BA1\u7406\uFF0C\u6CE8\u5165\u73AF\u5883\u53D8\u91CF\u3002</li><li>chunk\uFF1A\u6307\u4EE3\u7801\u5757\uFF0C\u4E00\u4E2Achunk\u53EF\u80FD\u7531\u591A\u4E2A\u6A21\u5757\u7EC4\u5408\u800C\u6210\uFF0C\u4E5F\u7528\u4E8E\u4EE3\u7801\u5408\u5E76\u4E0E\u5206\u5272\u3002</li><li>bundle\uFF1A\u8D44\u6E90\u7ECF\u8FC7webpack\u6D41\u7A0B\u89E3\u6790\u7F16\u8BD1\u540E\u6700\u7EC8\u8F93\u51FA\u7684\u6210\u679C\u6587\u4EF6\u3002</li><li>module\uFF1A\u662F\u5F00\u53D1\u4E2D\u7684\u5355\u4E2A\u6A21\u5757\uFF0C\u5728webpack\u7684\u4E16\u754C\u91CC\uFF0C\u4E00\u5207\u7686\u6A21\u5757\uFF0C\u4E00\u4E2A\u6A21\u5757\u5BF9\u5E94\u4E00\u4E2A\u6587\u4EF6\uFF0Cwebpack\u4F1A\u4ECE\u914D\u7F6E\u7684entry\u4E2D\u9012\u5F52\u5F00\u59CB\u627E\u51FA\u6240\u6709\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u751F\u6210\u4F9D\u8D56\u56FE\u3002</li></ul><h2 id="loader\u548Cplugin\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#loader\u548Cplugin\u7684\u533A\u522B" aria-hidden="true">#</a> loader\u548Cplugin\u7684\u533A\u522B\uFF1F</h2><ul><li>\u4F5C\u7528\uFF1A <ul><li><code>loader</code>\u76F4\u8BD1\u4E3A\u201C\u52A0\u8F7D\u5668\u201D\u3002webpack\u5C06\u4E00\u5207\u6587\u4EF6\u89C6\u4E3A\u6A21\u5757\uFF0C\u4F46\u662Fwebpack\u539F\u751F\u503C\u80FD\u89E3\u6790js\u548Cjson\u6587\u4EF6\uFF0C\u5982\u679C\u60F3\u5C06\u5176\u4ED6\u6587\u4EF6\u4E5F\u6253\u5305\u7684\u8BDD\uFF0C\u5C31\u4F1A\u7528\u5230<code>loader</code>\u3002\u6240\u4EE5<code>loader</code>\u7684\u4F5C\u7528\u662F\u8BA9webpack\u62E5\u6709\u4E86\u52A0\u8F7D\u548C\u89E3\u6790\u5176\u4ED6\u6587\u4EF6\u7684\u80FD\u529B\u3002</li><li><code>plugin</code>\u76F4\u8BD1\u4E3A\u201C\u63D2\u4EF6\u201D\u3002<code>plugin</code>\u53EF\u4EE5\u6269\u5C55webpack\u7684\u529F\u80FD\uFF0C\u8BA9webpack\u5177\u6709\u66F4\u591A\u7684\u7075\u6D3B\u6027\u3002\u5728webpack\u8FD0\u884C\u7684\u751F\u547D\u5468\u671F\u4E2D\u4F1A\u5E7F\u64AD\u51FA\u8BB8\u591A\u4E8B\u4EF6\uFF0C<code>plugin</code>\u53EF\u4EE5\u76D1\u542C\u8FD9\u4E9B\u4E8B\u4EF6\uFF0C\u5728\u5408\u9002\u7684\u65F6\u673A\u901A\u8FC7webpack\u63D0\u4F9B\u7684API\u6539\u53D8\u8F93\u51FA\u7ED3\u679C\u3002</li></ul></li><li>\u7528\u6CD5\uFF1A <ul><li>loader\u5728<code>module.rules</code>\u4E2D\u914D\u7F6E\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4ED6\u4F5C\u4E3A\u6A21\u5757\u7684\u89E3\u6790\u89C4\u5219\u800C\u5B58\u5728\u3002\u7C7B\u578B\u4E3A\u6570\u7EC4\uFF0C\u6BCF\u4E00\u9879\u90FD\u662F\u4E00\u4E2A<code>Object</code>\uFF0C\u91CC\u9762\u63CF\u8FF0\u4E86\u961F\u533B\u4EC0\u4E48\u7C7B\u578B\u7684\u6587\u4EF6\uFF08<code>test</code>\uFF09\uFF0C\u4F7F\u7528\u4EC0\u4E48\u52A0\u8F7D\uFF08<code>loader</code>\uFF09\u548C\u4F7F\u7528\u7684\u53C2\u6570\uFF08<code>options</code>\uFF09</li><li>plugin\u5728<code>plugins</code>\u4E2D\u5355\u72EC\u914D\u7F6E\u3002\u7C7B\u578B\u4E3A\u6570\u7EC4\uFF0C\u6BCF\u4E00\u9879\u662F\u4E00\u4E2A<code>plugin</code>\u7684\u5B9E\u4F8B\uFF0C\u53C2\u6570\u90FD\u901A\u8FC7\u6784\u9020\u51FD\u6570\u4F20\u5165\u3002</li></ul></li></ul><h2 id="\u81EA\u5B9A\u4E49loader" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49loader" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49loader</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u83B7\u53D6\u914D\u7F6E\u6587\u4EF6\u4F20\u9012\u7684\u53C2\u6570</span>
  <span class="token comment">// this.getOptions\u662F5.x\u7684\u65B9\u6CD5</span>
  <span class="token comment">// 4.x\u4F7F\u7528this.query\u6216\u901A\u8FC7loader-utils\u63D0\u4F9B\u65B9\u6CD5\u83B7\u53D6</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>loader\u5C31\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u58F0\u660E\u5F0F\u51FD\u6570\uFF0C\u4E0D\u80FD\u7528\u7BAD\u5934\u51FD\u6570\uFF08\u56E0\u4E3A\u51FD\u6570\u4E2D\u7684<code>this</code>\u4F5C\u4E3A\u4E0A\u4E0B\u6587\u4F1A\u88ABwebpack\u586B\u5145\uFF0C\u5E76\u4E14<code>loader runner</code>\u4E2D\u5305\u542B\u4E00\u4E9B\u4F7F\u7528\u7684\u65B9\u6CD5\uFF09</li><li><code>this.callback</code>\uFF0C\u53EF\u4F7F\u7528<code>this.callback</code>\u65B9\u6CD5\u6765\u8FD4\u56DE\u591A\u4E2A\u4FE1\u606F</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// this.callback\u51FD\u6570\u53C2\u6570</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
  <span class="token literal-property property">err</span><span class="token operator">:</span> Error <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> string <span class="token operator">|</span> Buffer<span class="token punctuation">,</span>
  sourceMap<span class="token operator">?</span><span class="token operator">:</span> SourceMap<span class="token punctuation">,</span>
  mata<span class="token operator">?</span><span class="token operator">:</span> any
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>this.async</code>\uFF0C\u5982\u679Cloader\u4E2D\u6709\u5F02\u6B65\u64CD\u4F5C\uFF0C\u53EF\u4F7F\u7528<code>this.async</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u53C2\u6570\u4E0Ethis.callback\u76F8\u540C</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u591A\u4E2Aloader\u4F1A\u6309\u6570\u7EC4\u81EA\u540E\u5411\u524D\u6267\u884C</li><li>loader\u8DEF\u5F84\uFF0C\u81EA\u5B9A\u4E49loader\u53EF\u4EE5\u901A\u8FC7\u4E24\u79CD\u65B9\u5F0F\u6DFB\u52A0\u81F3rules <ul><li>\u4F7F\u7528path\u83B7\u53D6\u7EDD\u5BF9\u8DEF\u5F84\u6DFB\u52A0<code>use: [path.resolve(__dirname, &quot;./loaders/loader1.js&quot;)]</code></li><li>\u4F7F\u7528resolveLoader\u6DFB\u52A0<code>resolveLoader: {modules: [&quot;node_modules&quot;, &quot;./loader&quot;]}</code></li></ul></li></ul><h2 id="\u7F16\u5199loader\u5E94\u9075\u5FAA\u7684\u51C6\u5219" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199loader\u5E94\u9075\u5FAA\u7684\u51C6\u5219" aria-hidden="true">#</a> \u7F16\u5199loader\u5E94\u9075\u5FAA\u7684\u51C6\u5219</h2><ul><li>\u4FDD\u6301 <strong>\u7B80\u5355</strong></li><li>\u4F7F\u7528 <strong>\u94FE\u5F0F</strong>\u4F20\u9012</li><li><strong>\u6A21\u5757\u5316</strong> \u7684\u8F93\u51FA</li><li>\u786E\u4FDD <strong>\u65E0\u72B6\u6001</strong></li><li>\u4F7F\u7528 <strong>loader utilities</strong></li><li>\u8BB0\u5F55 <strong>loader\u7684\u4F9D\u8D56</strong></li><li>\u89E3\u6790 <strong>\u6A21\u5757\u4F9D\u8D56\u5173\u7CFB</strong></li><li>\u63D0\u53D6 <strong>\u901A\u7528\u4EE3\u7801</strong></li><li>\u907F\u514D <strong>\u7EDD\u5BF9\u8DEF\u5F84</strong></li><li>\u4F7F\u7528 <strong>peer dependencies</strong></li></ul><h4 id="\u7B80\u5355-simple" tabindex="-1"><a class="header-anchor" href="#\u7B80\u5355-simple" aria-hidden="true">#</a> \u7B80\u5355\uFF08simple\uFF09</h4><p>loaders\u5E94\u8BE5\u53EA\u505A\u5355\u4E00\u4EFB\u52A1\u3002\u8FD9\u4E0D\u4EC5\u4F7F\u6BCF\u4E2Aloader\u6613\u7EF4\u62A4\uFF0C\u4E5F\u53EF\u4EE5\u5728\u66F4\u591A\u573A\u666F\u94FE\u5F0F\u8C03\u7528</p><h4 id="\u94FE\u5F0F-chaining" tabindex="-1"><a class="header-anchor" href="#\u94FE\u5F0F-chaining" aria-hidden="true">#</a> \u94FE\u5F0F\uFF08chaining\uFF09</h4><p>\u5229\u7528loader\u53EF\u4EE5\u94FE\u5F0F\u8C03\u7528\u7684\u4F18\u52BF\u3002\u5199\u4E94\u4E2A\u7B80\u5355\u7684loader\u5B9E\u73B0\u4E94\u9879\u4EFB\u52A1\uFF0C\u800C\u4E0D\u662F\u4E00\u4E2Aloader\u5B9E\u73B0\u4E94\u9879\u4EFB\u52A1\u3002\u529F\u80FD\u9694\u79BB\u4E0D\u4EC5\u4F7F\u7528loader\u66F4\u7B80\u5355\uFF0C\u53EF\u80FD\u8FD8\u53EF\u4EE5\u5C06\u5B83\u4EEC\u7528\u4E8E\u4F60\u539F\u5148\u6CA1\u6709\u60F3\u5230\u7684\u529F\u80FD\u3002</p><h4 id="\u6A21\u5757\u5316-modular" tabindex="-1"><a class="header-anchor" href="#\u6A21\u5757\u5316-modular" aria-hidden="true">#</a> \u6A21\u5757\u5316\uFF08modular\uFF09</h4><p>\u4FDD\u8BC1\u8F93\u51FA\u6A21\u5757\u5316\u3002loader\u751F\u6210\u7684\u6A21\u5757\u4E0E\u666E\u901A\u6A21\u5757\u9075\u5FAA\u76F8\u540C\u7684\u8BBE\u8BA1\u539F\u5219\u3002</p><h4 id="\u65E0\u72B6\u6001-stateless" tabindex="-1"><a class="header-anchor" href="#\u65E0\u72B6\u6001-stateless" aria-hidden="true">#</a> \u65E0\u72B6\u6001\uFF08stateless\uFF09</h4><p>\u786E\u4FDDloader\u5728\u4E0D\u540C\u6A21\u5757\u4E4B\u95F4\u8F6C\u5316\u4E0D\u4FDD\u5B58\u72B6\u6001\u3002\u6BCF\u6B21\u8FD0\u884C\u90FD\u5E94\u72EC\u7ACB\u4E0E\u5176\u4ED6\u7F16\u8BD1\u6A21\u5757\u4EE5\u53CA\u76F8\u540C\u6A21\u5757\u4E4B\u524D\u7684\u7F16\u8BD1\u7ED3\u679C\u3002</p><h4 id="loader\u5DE5\u5177\u5E93-loader-utilities" tabindex="-1"><a class="header-anchor" href="#loader\u5DE5\u5177\u5E93-loader-utilities" aria-hidden="true">#</a> loader\u5DE5\u5177\u5E93\uFF08Loader Utilities\uFF09</h4><p>\u51B2\u5206\u5229\u7528<code>loader-utils</code>\u5305\u3002\u5B83\u63D0\u4F9B\u4E86\u8BB8\u591A\u6709\u7528\u7684\u5DE5\u5177\uFF0C\u6700\u5E38\u7528\u7684\u4E00\u79CD\u5DE5\u5177\u662F\u83B7\u53D6\u4F20\u9012\u7ED9loader\u7684\u9009\u9879\u3002</p><h4 id="loader\u4F9D\u8D56-loader-dependencies" tabindex="-1"><a class="header-anchor" href="#loader\u4F9D\u8D56-loader-dependencies" aria-hidden="true">#</a> loader\u4F9D\u8D56\uFF08loader dependencies\uFF09</h4><p>\u5982\u679C\u4EE5loader\u4F7F\u7528\u5916\u90E8\u8D44\u6E90\uFF0C<strong>\u5FC5\u987B\u58F0\u660E\u5B83</strong>\u3002\u8FD9\u4E9B\u4FE1\u606F\u7528\u4E8E\u4F7F\u7F13\u5B58loaders\u65E0\u6548\uFF0C\u4EE5\u53CA\u5728\u89C2\u5BDF\u6A21\u5F0F\uFF08watch mode\uFF09\u4E0B\u91CD\u7F16\u8BD1\u3002\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u793A\u4F8B\uFF0C\u8BF4\u660E\u5982\u4F55\u4F7F\u7528<code>addDependency</code>\u65B9\u6CD5\u5B9E\u73B0\u4E0A\u8FF0\u58F0\u660E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> headerPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;header.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addDependency</span><span class="token punctuation">(</span>headerPath<span class="token punctuation">)</span><span class="token punctuation">;</span>

  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>headerPath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> header</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> header <span class="token operator">+</span> <span class="token string">&#39;\\n&#39;</span> <span class="token operator">+</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6A21\u5757\u4F9D\u8D56-module-dependencies" tabindex="-1"><a class="header-anchor" href="#\u6A21\u5757\u4F9D\u8D56-module-dependencies" aria-hidden="true">#</a> \u6A21\u5757\u4F9D\u8D56\uFF08module dependencies\uFF09</h4><p>\u6839\u7EDD\u6A21\u5757\u7C7B\u578B\uFF0C\u53EF\u80FD\u4F1A\u6709\u4E0D\u540C\u7684\u6A21\u5F0F\u6307\u5B9A\u4F9D\u8D56\u5173\u7CFB\u3002\u4F8B\u5982\u5728CSS\u4E2D\uFF0C\u4F7F\u7528<code>@import</code>\u548C<code>url(...)</code>\u8BED\u53E5\u6765\u58F0\u660E\u4F9D\u8D56\u3002\u8FD9\u4E9B\u4F9D\u8D56\u5E94\u8BE5\u7531\u6A21\u5757\u7CFB\u7EDF\u89E3\u6790\u3002 \u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u4E24\u79CD\u65B9\u5F0F\u4E2D\u7684\u4E00\u79CD\u6765\u5B9E\u73B0\uFF1A * \u901A\u8FC7\u628A\u5B83\u4EEC\u8F6C\u6362\u6210<code>require</code>\u8BED\u53E5 * \u4F7F\u7528<code>this.resolve</code>\u51FD\u6570\u89E3\u6790\u8DEF\u5F84</p><h4 id="\u901A\u7528\u4EE3\u7801-common-code" tabindex="-1"><a class="header-anchor" href="#\u901A\u7528\u4EE3\u7801-common-code" aria-hidden="true">#</a> \u901A\u7528\u4EE3\u7801\uFF08common code\uFF09</h4><p>\u907F\u514D\u5728loader\u5904\u7406\u7684\u6BCF\u4E2A\u6A21\u5757\u4E2D\u751F\u6210\u901A\u7528\u4EE3\u7801\u3002\u76F8\u53CD\uFF0C\u5E94\u8BE5\u5728loader\u4E2D\u521B\u5EFA\u4E00\u4E2A\u8FD0\u884C\u65F6\u6587\u4EF6\uFF0C\u5E76\u751F\u6210<code>require</code>\u8BED\u53E5\u4EE5\u5F15\u7528\u8BE5\u5171\u4EAB\u6A21\u5757\uFF1A src/loader-runtime.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> someOtherModule <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./some-other-module&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">runtime</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> params<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token function">someOtherModule</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src/loader.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> runtime <span class="token keyword">from</span> <span class="token string">&#39;./loader-runtime.js&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">loader</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u81EA\u5B9A\u4E49\u7684 loader \u903B\u8F91</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">runtime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    source<span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EDD\u5BF9\u8DEF\u5F84-absolute-paths" tabindex="-1"><a class="header-anchor" href="#\u7EDD\u5BF9\u8DEF\u5F84-absolute-paths" aria-hidden="true">#</a> \u7EDD\u5BF9\u8DEF\u5F84\uFF08absolute paths\uFF09</h4><p>\u4E0D\u8981\u5728\u6A21\u5757\u4EE3\u7801\u4E2D\u63D2\u5165\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u56E0\u4E3A\u5F53\u9879\u76EE\u6839\u8DEF\u5F84\u53D8\u5316\u65F6\uFF0C\u6587\u4EF6\u7EDD\u5BF9\u8DEF\u5F84\u4E5F\u4F1A\u53D8\u5316<code>loader-utils</code>\u4E2D\u7684<code>stringifyRequest</code>\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5C06\u7EDD\u5BF9\u8DEF\u5F84\u8F6C\u5316\u4E3A\u76F8\u5BF9\u8DEF\u5F84\u3002</p><h4 id="\u540C\u7B49\u4F9D\u8D56-peer-dependencies" tabindex="-1"><a class="header-anchor" href="#\u540C\u7B49\u4F9D\u8D56-peer-dependencies" aria-hidden="true">#</a> \u540C\u7B49\u4F9D\u8D56\uFF08peer dependencies\uFF09</h4><p>\u5982\u679C\u4F60\u7684loader\u7B80\u5355\u5305\u88F9\u53E6\u5916\u4E00\u4E2A\u5305\uFF0C\u4F60\u5E94\u8BE5\u628A\u8FD9\u4E2A\u5305\u4F5C\u4E3A\u4E00\u4E2A<code>peerDependency</code>\u5F15\u5165\u3002\u8FD9\u79CD\u65B9\u5F0F\u5141\u8BB8\u5E94\u7528\u7A0B\u5E8F\u5F00\u53D1\u8005\u5728\u5FC5\u8981\u60C5\u51B5\u4E0B\uFF0C\u5728<code>package.json</code>\u4E2D\u6307\u5B9A\u6240\u9700\u7684\u786E\u5B9A\u7248\u672C\u3002 \u4F8B\u5982\uFF0Csass-loader\u6307\u5B9Anode-sass\u4F5C\u4E3A\u540C\u7B49\u4F9D\u8D56\uFF0C\u5F15\u7528\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;node-sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webpack\u7684\u6784\u5EFA\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#webpack\u7684\u6784\u5EFA\u6D41\u7A0B" aria-hidden="true">#</a> webpack\u7684\u6784\u5EFA\u6D41\u7A0B</h2><p>webpack\u7684\u8FD0\u884C\u6D41\u7A0B\u662F\u4E00\u4E2A\u4E32\u884C\u7684\u8FC7\u7A0B\uFF0C\u4ECE\u542F\u52A8\u5230\u7ED3\u675F\u4F1A\u4F9D\u6B21\u6267\u884C\u4EE5\u4E0B\u6D41\u7A0B\uFF1A</p><ol><li>\u521D\u59CB\u5316\u53C2\u6570\uFF1A\u4ECE\u914D\u7F6E\u6587\u4EF6\u548CShell\u8BED\u53E5\u4E2D\u8BFB\u53D6\u4E0E\u5408\u5E76\u53C2\u6570\uFF0C\u5F97\u51FA\u6700\u7EC8\u53C2\u6570\uFF1B</li><li>\u5F00\u59CB\u7F16\u8BD1\uFF1A\u7528\u4E0A\u4E00\u6B65\u5F97\u5230\u7684\u53C2\u6570\u521D\u59CB\u5316<code>Compiler</code>\u5BF9\u8C61\uFF0C\u52A0\u8F7D\u6240\u6709\u914D\u7F6E\u7684\u63D2\u4EF6\uFF0C\u6267\u884C\u5BF9\u8C61\u7684<code>run</code>\u65B9\u6CD5\u5F00\u59CB\u6267\u884C\u7F16\u8BD1\uFF1B</li><li>\u786E\u5B9A\u5165\u53E3\uFF1A\u6839\u636E\u914D\u7F6E\u4E2D\u7684entry\u627E\u51FA\u6240\u6709\u7684\u5165\u53E3\u6587\u4EF6\uFF1B</li><li>\u7F16\u8BD1\u6A21\u5757\uFF1A\u4ECE\u5165\u53E3\u6587\u4EF6\u51FA\u53D1\uFF0C\u4F4E\u554A\u7528\u6240\u6709\u914D\u7F6E\u7684loader\u5BF9\u6A21\u5757\u8FDB\u884C\u7FFB\u8BD1\uFF0C\u518D\u627E\u51FA\u8BE5\u6A21\u5757\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u518D\u9012\u5F52\u672C\u6B65\u9AA4\u76F4\u5230\u6240\u6709\u5165\u5E93\u4F9D\u8D56\u7684\u6587\u4EF6\u90FD\u7ECF\u8FC7\u4E86\u672C\u6B65\u9AA4\uFF1B</li><li>\u5B8C\u6210\u6A21\u5757\u7F16\u8BD1\uFF1A\u5728\u7ECF\u8FC7\u7B2C4\u6B65\u4F7F\u7528loader\u7FFB\u8BD1\u5B8C\u6240\u6709\u6A21\u5757\u540E\uFF0C\u5F97\u5230\u4E86\u6BCF\u4E2A\u6A21\u5757\u88AB\u7FFB\u8BD1\u540E\u7684\u6700\u7EC8\u5185\u5BB9\u4EE5\u53CA\u5B83\u4EEC\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF1B</li><li>\u8F93\u51FA\u8D44\u6E90\uFF1A\u6839\u636E\u5165\u53E3\u548C\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u7EC4\u88C5\u6210\u4E00\u4E2A\u4E2A\u5305\u542B\u591A\u4E2A\u6A21\u5757\u7684Chunk\u8F6C\u6362\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u52A0\u5165\u5230\u8F93\u51FA\u5217\u8868\uFF0C\u8FD9\u6B65\u662F\u53EF\u4EE5\u4FEE\u6539\u8F93\u51FA\u5185\u5BB9\u7684\u6700\u540E\u673A\u4F1A\uFF1B</li><li>\u8F93\u51FA\u5B8C\u6210\uFF1A\u5728\u786E\u5B9A\u597D\u8F93\u51FA\u5185\u5BB9\u540E\uFF0C\u6839\u636E\u914D\u7F6E\u786E\u5B9A\u8F93\u51FA\u7684\u8DEF\u5F84\u548C\u6587\u4EF6\u540D\uFF0C\u628A\u6587\u4EF6\u5185\u5BB9\u5199\u5165\u5230\u6587\u4EF6\u7CFB\u7EDF\u3002 \u5728\u4EE5\u4E0A\u8FC7\u7A0B\u4E2D\uFF0Cwebpack\u4F1A\u5728\u7279\u5B9A\u7684\u65F6\u95F4\u70B9\u5E7F\u64AD\u7279\u5B9A\u7684\u4E8B\u4EF6\uFF0C\u63D2\u4EF6\u5728\u76D1\u542C\u5230\u611F\u5174\u8DA3\u7684\u4E8B\u4EF6\u540E\u4F1A\u6267\u884C\u7279\u5B9A\u7684\u903B\u8F91\uFF0C\u5E76\u4E14\u63D2\u4EF6\u53EF\u4EE5\u8C03\u7528webpack\u63D0\u4F9B\u7684API\u6539\u53D8webpack\u7684\u8FD0\u884C\u7ED3\u679C\u3002</li></ol><h2 id="webpack4\u4E0E5\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#webpack4\u4E0E5\u7684\u533A\u522B" aria-hidden="true">#</a> webpack4\u4E0E5\u7684\u533A\u522B</h2><ul><li>\u5F15\u5165\u56FE\u7247\u3001\u5B57\u4F53\u56FE\u6807\u3001\u97F3\u89C6\u9891 <ul><li>4.x\u9700\u8981<code>url-loader</code>\u548C<code>file-loader</code></li><li>5.x\u53EF\u4EE5\u4F7F\u7528\u5185\u7F6E\u7684<code>Asset Modules</code></li></ul></li><li>\u6E05\u7406<code>/dist</code>\u6587\u4EF6\u5939 <ul><li>4.x\u4F7F\u7528<code>clean-webpack-plugin</code>\u63D2\u4EF6</li><li>5.x\u53EF\u5728<code>output</code>\u4E2D\u6DFB\u52A0<code>clean: true</code>\u5C5E\u6027</li></ul></li></ul><h2 id="\u9884\u83B7\u53D6-prefetch-\u3001\u9884\u52A0\u8F7D-preload" tabindex="-1"><a class="header-anchor" href="#\u9884\u83B7\u53D6-prefetch-\u3001\u9884\u52A0\u8F7D-preload" aria-hidden="true">#</a> \u9884\u83B7\u53D6\uFF08prefetch\uFF09\u3001\u9884\u52A0\u8F7D\uFF08preload\uFF09</h2><ul><li>prefetch\uFF08\u9884\u83B7\u53D6\uFF09\uFF1A\u5C06\u6765\u67D0\u4E9B\u5BFC\u822A\u4E0B\u53EF\u80FD\u9700\u8981\u7684\u8D44\u6E90 <ul><li><code>import(/* webpackPrefetch: true */ &#39;./xxx/xxx.js&#39;)</code></li><li>\u4E0A\u9762\u4EE3\u7801\u4F1A\u751F\u6210<code>&lt;link rel=&quot;prefetch&quot; href=&quot;xxx.js&quot;&gt;</code>\u5E76\u8FFD\u52A0\u5230\u9875\u9762\u5934\u90E8</li><li>prefetch chunk\u4F1A\u5728\u7236chunk\u52A0\u8F7D\u7ED3\u675F\u540E\u5F00\u59CB\u52A0\u8F7D</li><li>prefetch chunk\u5728\u6D4F\u89C8\u5668\u95F2\u7F6E\u65F6\u4E0B\u8F7D</li><li>prefetch chunk\u4F1A\u7528\u4E8E\u672A\u6765\u7684\u67D0\u4E2A\u65F6\u523B</li></ul></li><li>preload\uFF08\u9884\u52A0\u8F7D\uFF09\uFF1A\u5F53\u524D\u5BFC\u822A\u4E0B\u53EF\u80FD\u9700\u8981\u8D44\u6E90 <ul><li><code>import(/* webpackPreload: true */ &#39;Libary&#39;)</code></li><li><code>&lt;link rel=&quot;preload&quot;&gt;</code></li><li>preload chunk\u4F1A\u5728\u7236chunk\u52A0\u8F7D\u65F6\uFF0C\u4EE5\u5E76\u884C\u65B9\u5F0F\u5F00\u59CB\u52A0\u8F7D</li><li>preload chunk\u5177\u6709\u4E2D\u7B49\u4F18\u5148\u7EA7\uFF0C\u5E76\u7ACB\u5373\u4E0B\u8F7D</li><li>preload chunk\u4F1A\u5728\u7236chunk\u4E2D\u7ACB\u5373\u8BF7\u6C42\uFF0C\u7528\u4E8E\u5F53\u4E0B\u65F6\u523B</li></ul></li></ul><h2 id="\u5E38\u89C1\u7684loader" tabindex="-1"><a class="header-anchor" href="#\u5E38\u89C1\u7684loader" aria-hidden="true">#</a> \u5E38\u89C1\u7684loader</h2><h3 id="file-loader" tabindex="-1"><a class="header-anchor" href="#file-loader" aria-hidden="true">#</a> file-loader</h3><p>file-loader\uFF1A\u628A\u6587\u4EF6\u8F93\u51FA\u5230\u4E00\u4E2A\u6587\u4EF6\u5939\u4E2D\uFF0C\u5728\u4EE3\u7801\u4E2D\u901A\u8FC7\u76F8\u5BF9URL\u53BB\u5F15\u7528\u8F93\u51FA\u7684\u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;font&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6587\u4EF6\u8F93\u51FA\u8DEF\u5F84\uFF0C\u9ED8\u8BA4\uFF0Cundefined</span>
          <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;font&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6587\u4EF6\u5F15\u7528\u8DEF\u5F84\uFF0C\u9ED8\u8BA4\uFF0C__webpack_public_path__</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[name].[ext]&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="url-loader" tabindex="-1"><a class="header-anchor" href="#url-loader" aria-hidden="true">#</a> url-loader</h3><p>url-loader\uFF1A\u548Cfile-loader\u7C7B\u4F3C\uFF0C\u4F46\u662F\u80FD\u5728\u6587\u4EF6\u5F88\u5C0F\u7684\u60C5\u51B5\u4E0B\u4EE5base64\u7684\u65B9\u5F0F\u5427\u6587\u4EF6\u5185\u5BB9\u6CE8\u5165\u5230\u4EE3\u7801\u4E2D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u8D85\u8FC7\u9650\u5236\u5927\u5C0F\u4F7F\u7528\u7684loader\uFF0C\u9ED8\u8BA4\uFF0Cfile-loader</span>
          <span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;img/[name].[hash:8].[ext]&#39;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8192</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vue-loader\u3001vue-template-compiler" tabindex="-1"><a class="header-anchor" href="#vue-loader\u3001vue-template-compiler" aria-hidden="true">#</a> vue-loader\u3001vue-template-compiler</h3><ul><li>\u4F7F\u7528vue-loader\u9664\u4E86\u4F7F\u7528loader\u4E4B\u5916\uFF0C\u8FD8\u8981\u5F15\u5165<code>VueLoaderPlugin</code>\u63D2\u4EF6\uFF0C\u5B83\u7684\u4F5C\u7528\u662F\u5C06\u4F60\u5B9A\u4E49\u8FC7\u7684\u5176\u5B83\u89C4\u5219\u590D\u5236\u5E76\u5E94\u7528\u5230<code>.vue</code>\u6587\u4EF6\u91CC\u76F8\u5E94\u8BED\u8A00\u7684\u90E8\u5206\u3002</li><li>\u5F53vue-loader\u7F16\u8BD1\u7EC4\u4EF6\u4E2D\u7684template\u65F6\uFF0C\u5982\u9047\u5230url\uFF0C\u5B83\u4F1A\u5C06\u8BE5url\u8F6C\u6362\u4E3Awebpack\u6A21\u5757\u8BF7\u6C42\uFF0C\u5982\uFF1A</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../image.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5C06\u4F1A\u7F16\u8BD1\u4E3A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../image.png&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8F6C\u6362\u89C4\u5219\uFF1A <ol><li>\u5982\u9047\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u539F\u6837\u4FDD\u7559</li><li>\u5982<code>.</code>\u5F00\u5934\uFF0C\u6309\u672C\u5730\u6587\u4EF6\u76EE\u5F55\u89E3\u6790</li><li>\u5982<code>\uFF5E</code>\u5F00\u5934\uFF0C\u5C06\u4F1A\u88AB\u770B\u4F5C\u6A21\u5757\u4F9D\u8D56\uFF08\u53EF\u5F15\u7528node\u4F9D\u8D56\u4E2D\u7684\u8D44\u6E90\uFF09</li><li>\u5982<code>@</code>\u5F00\u5934\uFF0C\u4E5F\u4F1A\u88AB\u770B\u4F5C\u6A21\u5757\u4F9D\u8D56\uFF0C\u5982\u4F7F\u7528<code>vue-cli</code>\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4E86<code>alias</code>\uFF0C\u53EF\u76F4\u63A5\u6307\u5411<code>/src</code></li></ol></li><li>sass-loader\u53EF\u4EE5\u4F7F\u7528additionalData\u9009\u9879\uFF0C\u53EF\u5728\u6240\u6709\u88AB\u5904\u7406\u7684\u6587\u4EF6\u4E2D\u5171\u4EAB\u53D8\u91CF\uFF0C\u800C\u4E0D\u9700\u8981\u663E\u5F0F\u7684\u5BFC\u5165</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;sass-loader&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">additionalData</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">$color: red;</span><span class="token template-punctuation string">\`</span></span>
    <span class="token literal-property property">additionalData</span><span class="token operator">:</span> <span class="token string">&#39;@import \\&#39;@/scss/variables.scss\\&#39;;\\n@import \\&#39;~vuetify/src/styles/styles.sass\\&#39;;&#39;</span>
    <span class="token literal-property property">sassOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// sass-loader\u9ED8\u8BA4\u4E0D\u5904\u7406.sass\u7684\u7F29\u8FDB\u8BED\u6CD5\uFF0C\u9700\u8981\u6DFB\u52A0indentedSyntax\u9009\u9879</span>
      <span class="token literal-property property">indentedSyntax</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;vue-loader/lib/plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>export <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token operator">/</span><span class="token punctuation">.</span><span class="token operator">/</span>vue$<span class="token operator">/</span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;vue-loader&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token operator">/</span><span class="token punctuation">.</span><span class="token operator">/</span>css$<span class="token operator">/</span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue-style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5E38\u89C1\u7684plugin" tabindex="-1"><a class="header-anchor" href="#\u5E38\u89C1\u7684plugin" aria-hidden="true">#</a> \u5E38\u89C1\u7684plugin</h2><h3 id="html-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#html-webpack-plugin" aria-hidden="true">#</a> html-webpack-plugin</h3><p>HtmlWebpackPlugin\u7B80\u5316HTML\u6587\u4EF6\u7684\u521B\u5EFA\uFF0C\u4EE5\u4FBF\u4E3A\u4F60\u7684webpack\u5305\u63D0\u4F9B\u670D\u52A1\u3002</p><table><thead><tr><th style="text-align:center;">Name</th><th style="text-align:center;">Type</th><th style="text-align:center;">Default</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:center;"><code>title</code></td><td style="text-align:center;"><code>{String}</code></td><td style="text-align:center;"><code>Webpack App</code></td><td style="text-align:left;">\u751F\u6210<code>HTML</code>\u7684<code>title</code></td></tr><tr><td style="text-align:center;"><code>filename</code></td><td style="text-align:center;">\`{String</td><td style="text-align:center;">Function}\`</td><td style="text-align:left;">&#39;index.html&#39;</td></tr><tr><td style="text-align:center;"><code>tempalte</code></td><td style="text-align:center;"><code>{String}</code></td><td style="text-align:center;"></td><td style="text-align:left;">\u6A21\u677F\uFF0C\u9ED8\u8BA4\u5C06\u4F7F\u7528<code>src/index.ejs</code></td></tr><tr><td style="text-align:center;"><code>tempalteContent</code></td><td style="text-align:center;">\`{String</td><td style="text-align:center;">Function</td><td style="text-align:left;">false}\`</td></tr><tr><td style="text-align:center;"><code>tempalteParameters</code></td><td style="text-align:center;">\`{Boolean</td><td style="text-align:center;">Object</td><td style="text-align:left;">Function}\`</td></tr><tr><td style="text-align:center;"><code>inject</code></td><td style="text-align:center;">\`{Boolean</td><td style="text-align:center;">String}\`</td><td style="text-align:left;"><code>true</code></td></tr><tr><td style="text-align:center;"><code>publicPath</code></td><td style="text-align:center;">\`{String</td><td style="text-align:center;">&#39;auto&#39;}\`</td><td style="text-align:left;"><code>auto</code></td></tr><tr><td style="text-align:center;"><code>scriptLoading</code></td><td style="text-align:center;">\`{&#39;blocking&#39;</td><td style="text-align:center;">&#39;defer&#39;</td><td style="text-align:left;">&#39;module&#39;}\`</td></tr><tr><td style="text-align:center;"><code>favicon</code></td><td style="text-align:center;">\`{String</td><td style="text-align:center;">}\`</td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;"><code>meta</code></td><td style="text-align:center;"><code>{Object}</code></td><td style="text-align:center;"><code>{}</code></td><td style="text-align:left;">meta\u6807\u7B7E</td></tr><tr><td style="text-align:center;"><code>base</code></td><td style="text-align:center;">\`{Object</td><td style="text-align:center;">String</td><td style="text-align:left;">false}\`</td></tr><tr><td style="text-align:center;"><code>minify</code></td><td style="text-align:center;">\`{Boolean</td><td style="text-align:center;">Object}\`</td><td style="text-align:left;"><code>true</code>\u5982\u679Cmode\u4E3Aproduction\u4E3Afalse</td></tr><tr><td style="text-align:center;"><code>hash</code></td><td style="text-align:center;"><code>{Boolean}</code></td><td style="text-align:center;"><code>false</code></td><td style="text-align:left;">script\u548Ccss\u662F\u5426\u6DFB\u52A0hash</td></tr><tr><td style="text-align:center;"><code>cache</code></td><td style="text-align:center;"><code>{Boolean}</code></td><td style="text-align:center;"><code>true</code></td><td style="text-align:left;">\u5F00\u542F\u540E\u6587\u4EF6\u672A\u4FEE\u6539\u65F6\u4F7F\u7528\u7F13\u5B58</td></tr><tr><td style="text-align:center;"><code>showErrors</code></td><td style="text-align:center;"><code>{Boolean}</code></td><td style="text-align:center;"><code>true</code></td><td style="text-align:left;">\u5C06\u9519\u8BEF\u4FE1\u606F\u5199\u5165\u5230HTML</td></tr><tr><td style="text-align:center;"><code>chunks</code></td><td style="text-align:center;"><code>{?}</code></td><td style="text-align:center;"><code>?</code></td><td style="text-align:left;">\u53EF\u4EE5\u6DFB\u52A0\u4E00\u4E9Bchunks</td></tr><tr><td style="text-align:center;"><code>chunksSortMode</code></td><td style="text-align:center;">\`{String</td><td style="text-align:center;">Function}\`</td><td style="text-align:left;"><code>auto</code></td></tr><tr><td style="text-align:center;"><code>excludeChunks</code></td><td style="text-align:center;"><code>{Array.&lt;string&gt;}</code></td><td style="text-align:center;"></td><td style="text-align:left;">\u6392\u9664\u7684chunks</td></tr><tr><td style="text-align:center;"><code>xhtml</code></td><td style="text-align:center;"><code>{Boolean}</code></td><td style="text-align:center;">false</td><td style="text-align:left;">link\u6807\u7B7E\u81EA\u5173\u95ED</td></tr></tbody></table><h2 id="devserver" tabindex="-1"><a class="header-anchor" href="#devserver" aria-hidden="true">#</a> DevServer</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#39;auto&#39; | &#39;all&#39;  [string]\uFF1A auto\u65F6\u5141\u8BB8localhost\u3001host\u548Cclient.webSocketURL.hostname</span>
    <span class="token comment">// \u5141\u8BB8\u8BBF\u95EE\u7684\u670D\u52A1\u5668\u767D\u540D\u5355</span>
    <span class="token literal-property property">allowedHosts</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;.host.com&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;host2.com&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// \u201C.\u201D\u5B50\u57DF\u901A\u914D\u7B26</span>
    <span class="token comment">// boolean = false  object</span>
    <span class="token comment">// \u7528\u4E8E\u5728\u542F\u52A8\u65F6\u901A\u8FC7ZeroConf\u7F51\u7EDC\u5E7F\u64AD\u4F60\u7684\u5F00\u53D1\u670D\u52A1\u5668</span>
    <span class="token literal-property property">bonjour</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;http&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">&#39;udp&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">client</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#39;log&#39; | &#39;info&#39; | &#39;warn&#39; | &#39;error&#39; | &#39;none&#39; | &#39;verbose&#39;</span>
      <span class="token comment">// \u5141\u8BB8\u5728\u6D4F\u89C8\u5668\u4E2D\u8BBE\u7F6E\u65E5\u5FD7\u7EA7\u522B</span>
      <span class="token literal-property property">logging</span><span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span>
      <span class="token comment">// boolean = true  object: { errors boolean = true, warnings boolean = true }</span>
      <span class="token comment">// \u5F53\u51FA\u73B0\u7F16\u8BD1\u9519\u8BEF\u6216\u8B66\u544A\u65F6\uFF0C\u5728\u6D4F\u89C8\u5668\u4E2D\u663E\u793A\u5168\u5C4F\u8986\u76D6</span>
      <span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// boolean \u6D4F\u89C8\u5668\u4E2D\u4EE5\u767E\u5206\u6BD4\u663E\u793A\u7F16\u8BD1\u8FDB\u5EA6</span>
      <span class="token literal-property property">progress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// boolean = true  number</span>
      <span class="token comment">// \u544A\u8BC9dev-server\u5B83\u5E94\u8BE5\u5C1D\u8BD5\u91CD\u65B0\u8FDE\u63A5\u5BA2\u6237\u7AEF\u7684\u6B21\u6570\u3002true\u4E3A\u65E0\u9650\u6B21</span>
      <span class="token literal-property property">reconnect</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// &#39;ws&#39; | &#39;sockjs&#39;  string</span>
      <span class="token comment">// \u8BE5\u914D\u7F6E\u9879\u5141\u8BB8\u6211\u4EEC\u4E3A\u5BA2\u6237\u7AEF\u5355\u72EC\u9009\u62E9\u5F53\u524D\u7684devServer\u4F20\u8F93\u6A21\u5F0F\uFF0C\u6216\u8005\u63D0\u4F9B\u81EA\u5B9A\u4E49\u7684\u5BA2\u6237\u7AEF\u5B9E\u73B0</span>
      <span class="token literal-property property">webSocketTransport</span><span class="token operator">:</span> <span class="token string">&#39;ws&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">webSocketTransport</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./CustomClient&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// string  object</span>
      <span class="token comment">// \u9009\u9879\u5141\u8BB8\u6307\u5B9AURL\u5230web socket\u670D\u52A1\u5668</span>
      <span class="token comment">// webSocketURL: &#39;ws://0.0.0.0:8080/ws&#39;,</span>
      <span class="token literal-property property">webSocketURL</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">&#39;0.0.0.0&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">&#39;/ws&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&#39;dev-server&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
        <span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">&#39;ws&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&#39;webpack&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// boolean = true</span>
    <span class="token comment">// \u542F\u7528gzip compression</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// object</span>
    <span class="token comment">// \u4E3Awebpack-dev-middleware\u63D0\u4F9B\u5904\u7406webpack\u8D44\u6E90\u7684\u914D\u7F6E\u9879</span>
    <span class="token literal-property property">devMiddleware</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mimeTypes</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">phtml</span><span class="token operator">:</span> <span class="token string">&#39;text/html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/publicPathForDevServe&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">serverSideRender</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">writeToDisk</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// boolean</span>
    <span class="token comment">// \u4F7F\u7528spdy\u63D0\u4F9BHTTP/2\u670D\u52A1\u3002\u5BF9\u4E8Enode15.0.0\u53CA\u66F4\u9AD8\u7248\u672C\uFF0C\u6B64\u9009\u9879\u5C06\u88AB\u5FFD\u7565\uFF0C\u4EE5\u4E3Aspdy\u5728\u8FD9\u4E9B\u7248\u672C\u4E2D\u5DF2\u88AB\u7834\u574F\u3002</span>
    <span class="token comment">// \u4E00\u65E6Express\u652F\u6301\uFF0C\u5F00\u53D1\u670D\u52A1\u5668\u5C06\u8FC1\u79FB\u5230node\u5185\u7F6E\u7684HTTP/2\u3002\uFF08\u6D4B\u8BD55.x\u53EF\u4EE5\uFF0Chttps\uFF09</span>
    <span class="token literal-property property">http2</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// boolean object</span>
    <span class="token comment">// \u4F7F\u7528https</span>
    <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">ca</span><span class="token operator">:</span> <span class="token string">&#39;./path/to/server.pem&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">pfx</span><span class="token operator">:</span> <span class="token string">&#39;./path/to/server.pfx&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;./path/to/server.key&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cert</span><span class="token operator">:</span> <span class="token string">&#39;./path/to/server.crt&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">passphrase</span><span class="token operator">:</span> <span class="token string">&#39;webpack-dev-server&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">requestCert</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u4E3A\u6240\u6709\u54CD\u5E94\u6DFB\u52A0headers</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;X-Custom-Foo&#39;</span><span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span> <span class="token punctuation">}</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;X-Custom&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;Y-Custom&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// boolean = false  object</span>
    <span class="token comment">// \u5728\u4F7F\u7528history\u65F6\uFF0C\u5C06index.html\u4EE3\u66FF404\u54CD\u5E94</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">rewrites</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\/$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/views/landing.html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\/subpage</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/views/subpage.html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/views/404.html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">disabledDotRule</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// &#39;local-ip&#39; | &#39;local-ipv4&#39; | &#39;local-ipv6&#39;  string</span>
    <span class="token comment">// \u6307\u5B9A\u8981\u4F7F\u7528\u7684host</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;0.0.0.0&#39;</span>\uFF0C <span class="token comment">// \u8FD9\u6837\u53EF\u4EE5\u8BA9\u670D\u52A1\u5668\u88AB\u5916\u90E8\u8BBF\u95EE</span>
    <span class="token comment">// &#39;only&#39;  boolean = true</span>
    <span class="token comment">// \u542F\u7528\u70ED\u6A21\u5757\u66FF\u6362</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token string">&#39;only&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u5728\u6784\u5EFA\u5931\u8D25\u65F6\u4E0D\u5237\u65B0\u9875\u9762\u4F5C\u4E3A\u56DE\u9000</span>
    <span class="token comment">// true  string</span>
    <span class="token comment">// The Unix socket to listen to (instead of a host).</span>
    <span class="token literal-property property">ipc</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// \u76D1\u542C\u3001you-os-temp-dir/webpack-dev-server.sock</span>
    <span class="token literal-property property">ipc</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;my-socket.sock&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// boolean = true</span>
    <span class="token comment">// \u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5F53\u76D1\u542C\u5230\u6587\u4EF6\u53D8\u5316\u65F6dev-server\u5C06\u4F1A\u91CD\u65B0\u52A0\u8F7D\u6216\u5237\u65B0\u9875\u9762</span>
    <span class="token comment">// \u4E3A\u4E86liveReload\u80FD\u591F\u751F\u6548\uFF0CdevServer.hot\u914D\u7F6E\u9879\u5FC5\u987B\u7981\u7528\u6216\u8005devServer.watchFiles\u914D\u7F6E\u9879\u5FC5\u987B\u542F\u7528\u3002</span>
    <span class="token literal-property property">liveReload</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// \u7981\u7528liveReload</span>
    <span class="token comment">// boolean</span>
    <span class="token comment">// \u544A\u8BC9dev-server\u662F\u5426\u4F7F\u7528magic HTML routes\uFF08webpack\u8F93\u51FA\u7684\u8DEF\u7531\uFF0C\u4F8B\u5982/main for main.js\uFF09</span>
    <span class="token literal-property property">magicHtml</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// function (devServer)</span>
    <span class="token comment">// \u63D0\u4F9B\u670D\u52A1\u5668\u5185\u90E8\u6240\u5728\u5176\u4ED6\u4E2D\u95F4\u4EF6\u4E4B\u540E\u6267\u884C\u81EA\u5B9A\u4E49\u4E2D\u95F4\u4EF6\u7684\u80FD\u529B</span>
    <span class="token comment">// \u8BE5\u914D\u7F6E\u9879\u5DF2\u542F\u7528\uFF0C\u4EE5\u652F\u6301devServer.setupMiddlewares</span>
    <span class="token function-variable function">onAfterSetupMiddleware</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">devServer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>devServer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-dev-server is not defined&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      devServer<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/some/path&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">custom</span><span class="token operator">:</span> <span class="token string">&#39;response&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// function (devServer)</span>
    <span class="token comment">// \u63D0\u4F9B\u670D\u52A1\u5668\u5185\u90E8\u6240\u5728\u5176\u4ED6\u4E2D\u95F4\u4EF6\u4E4B\u524D\u6267\u884C\u81EA\u5B9A\u4E49\u4E2D\u95F4\u4EF6\u7684\u80FD\u529B</span>
    <span class="token comment">// \u8BE5\u914D\u7F6E\u9879\u5DF2\u542F\u7528\uFF0C\u4EE5\u652F\u6301devServer.setupMiddlewares</span>
    <span class="token function-variable function">onBeforeSetupMiddleware</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">devServer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>devServer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-dev-server is not defined&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      devServer<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/some/path&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">custom</span><span class="token operator">:</span> <span class="token string">&#39;response&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// function (devServer)</span>
    <span class="token comment">// \u63D0\u4F9B\u5728webpack-dev-server\u5F00\u59CB\u76D1\u542C\u7AEF\u53E3\u8FDE\u63A5\u65F6\u6267\u884C\u81EA\u5B9A\u4E49\u51FD\u6570\u7684\u80FD\u529B</span>
    <span class="token function-variable function">onListening</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">devServer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>devServer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-dev-server is not defined&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">const</span> port <span class="token operator">=</span> devServer<span class="token punctuation">.</span>server<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Listening on port: &#39;</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// boolean  string  object  [string, object]</span>
    <span class="token comment">// \u544A\u8BC9dev-server\u5728\u670D\u52A1\u5668\u5DF2\u7ECF\u542F\u52A8\u540E\u6253\u5F00\u6D4F\u89C8\u5668</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;/my-page&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/another-page&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;google-chrome&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u4E0D\u540C\u5E73\u53F0\u540D\u79F0\u4E0D\u540C</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// &#39;auto&#39;  string  number</span>
    <span class="token comment">// \u76D1\u542C\u7684\u8BF7\u6C42\u7AEF\u53E3\u53F7</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&#39;auto&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u914D\u7F6E\u9879\u4E0D\u80FD\u8BBE\u7F6E\u672Anull\u6216&#39;&#39;\uFF0C\u5982\u679C\u81EA\u52A8\u4F7F\u7528\u4E00\u4E2A\u53EF\u7528\u7AEF\u53E3\u8981\u4F7F\u7528&#39;auto&#39;</span>
    <span class="token comment">// object  [object, function]</span>
    <span class="token comment">// \u4EE3\u7406\uFF0C\u4F7F\u7528http-proxy-middleware</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;^/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// \u9ED8\u8BA4\u4E0D\u63A5\u53D7HTTPS\u4E0A\u8FD0\u884C\u8BC1\u4E66\u65E0\u6548\u7684\u670D\u52A1\u5668\uFF0C\u9700\u8BBE\u7F6E\u8BE5\u9879\u4E3Afalse</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// \u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4EE3\u7406\u65F6\u4F1A\u4FDD\u7559\u4E3B\u673A\u5934\u7684\u6765\u6E90\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u8BE5\u9879\u4EE5\u8986\u76D6\u6B64\u884C\u4E3A</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u9ED8\u8BA4\u60C5\u51B5proxy\u4E0D\u4F1A\u4EE3\u7406\u5BF9root\u7684\u8BF7\u6C42\u3002\u8981\u542F\u7528\u6839\u4EE3\u7406\uFF0C\u5E94\u5C06devMiddleware.index\u8BBE\u7F6E\u4E3Afalse</span>
    <span class="token literal-property property">devMiddleware</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u914D\u7F6E\u591A\u4E2A\u4EE3\u7406</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;/auth&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/api&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// &#39;http&#39; | &#39;https&#39; | &#39;spdy&#39;  string object</span>
    <span class="token comment">// \u8BBE\u7F6E\u670D\u52A1\u5668\u548C\u914D\u7F6E\u9879\uFF0C\u9ED8\u8BA4http</span>
    <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;https&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">minVersion</span><span class="token operator">:</span> <span class="token string">&#39;TLSv1.1&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./server.key&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pfx</span><span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./server.pfx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cert</span><span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./server.crt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ca</span><span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./ca.pem&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">passphrase</span><span class="token operator">:</span> <span class="token string">&#39;webpack-dev-server&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">requestCert</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// boolean = true</span>
    <span class="token comment">// \u5141\u8BB8\u5728SIGINT\u548CSIGTERM\u4FE1\u53F7\u65F6\u5173\u95ED\u5F00\u53D1\u670D\u52A1\u5668\u548C\u9000\u51FA\u8FDB\u7A0B</span>
    <span class="token literal-property property">setupExitSignals</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// function (middlewares, devServer)</span>
    <span class="token comment">// \u63D0\u4F9B\u6267\u884C\u81EA\u5B9A\u4E49\u51FD\u6570\u548C\u5E94\u7528\u81EA\u5B9A\u4E49\u4E2D\u95F4\u4EF6\u7684\u80FD\u529B</span>
    <span class="token function-variable function">setupMiddlewares</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">middlewares<span class="token punctuation">,</span> devServer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>devServer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-dev-server is not defined&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      devServer<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/setup-middleware/some/path&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;setup-middlewares option GET&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5728\u5176\u4ED6\u4E2D\u95F4\u4EF6\u4E4B\u524D\u8FD0\u884C\u4E00\u4E2A\u4E2D\u95F4\u4EF6\uFF08\u4EE3\u66FFonBeforeSetupMiddleware\uFF09</span>
      middlewares<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;first-in-array&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/foo/path&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u53EF\u9009</span>
        <span class="token function-variable function">middleware</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Foo!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5728\u5176\u4ED6\u4E2D\u95F4\u4EF6\u4E4B\u540E\u8FD0\u884C\u4E00\u4E2A\u4E2D\u95F4\u4EF6\uFF08\u4EE3\u66FFonAfterSetupMiddleware\uFF09</span>
      middlewares<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;hello-world-test-one&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/foo/bar&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u53EF\u9009</span>
        <span class="token function-variable function">middleware</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Foo Bar!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      middlewares<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">return</span> middleWares<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// boolean  string  object  [string, object]</span>
    <span class="token comment">// \u8BE5\u914D\u7F6E\u9879\u5141\u8BB8\u914D\u7F6E\u4ECE\u76EE\u5F55\u63D0\u4F9B\u9759\u6001\u6587\u4EF6\u7684\u9009\u9879\uFF08\u9ED8\u8BA4public\uFF0C false\u7981\u7528\uFF09</span>
    <span class="token keyword">static</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;assets&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">static</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// string = path.join(process.cwd(), &#39;public&#39;)</span>
      <span class="token comment">// \u544A\u8BC9\u670D\u52A1\u5668\u4ECE\u54EA\u91CC\u63D0\u4F9B\u5185\u5BB9</span>
      <span class="token literal-property property">directory</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;public&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// object</span>
      <span class="token comment">// \u53EF\u914D\u7F6E\u4ECEstatic.directory\u63D0\u4F9B\u9759\u6001\u6587\u4EF6\u7684\u9AD8\u7EA7\u9009\u9879</span>
      <span class="token literal-property property">staticOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// string = &#39;/&#39;  [string]</span>
      <span class="token comment">// \u544A\u8BC9\u670D\u52A1\u5668\u5728\u54EA\u4E2AURL\u4E0A\u63D0\u4F9Bstatic.directory\u7684\u5185\u5BB9</span>
      <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/serve-public-path-url&#39;</span><span class="token punctuation">,</span>
      <span class="token comment">// boolean object = { icons: true }</span>
      <span class="token comment">// \u544A\u8BC9\u5F00\u53D1\u670D\u52A1\u5668\u542F\u7528\u540E\u4F7F\u7528serverIndex\u4E2D\u95F4\u4EF6</span>
      <span class="token literal-property property">serveIndex</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// boolean  object</span>
      <span class="token comment">// \u901A\u8FC7static.directory\u914D\u7F6E\u544A\u8BC9dev-server\u76D1\u542C\u6587\u4EF6\uFF08\u9ED8\u8BA4\u542F\u7528\uFF09</span>
      <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">ignored</span><span class="token operator">:</span> <span class="token string">&#39;*.txt&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">usePolling</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// string  object  [string, object] </span>
    <span class="token comment">// \u8BE5\u914D\u7F6E\u9879\u5141\u8BB8\u4F60\u914D\u7F6Eglobs/directories/files\u6765\u76D1\u542C\u6587\u4EF6\u53D8\u5316</span>
    <span class="token literal-property property">watchFiles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/**/*.php&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;public/**/**&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">watchFiles</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">paths</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/**/*.php&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;public/**/*&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">usePolling</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// false | &#39;sockjs&#39; | &#39;ws&#39;  string  function  object</span>
    <span class="token comment">// \u8BE5\u9879\u5141\u8BB8\u6211\u4EEC\u9009\u62E9\u5F53\u524D\u7684web-socket\u670D\u52A1\u5668\u6216\u8005\u63D0\u4F9B\u81EA\u5B9A\u4E49\u7684web-socket\u670D\u52A1\u5668\u5B9E\u73B0</span>
    <span class="token literal-property property">webSocketServer</span><span class="token operator">:</span> <span class="token string">&#39;ws&#39;</span>
    <span class="token literal-property property">webSocketServer</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./CustomServer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="asset-module\u8D44\u6E90\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#asset-module\u8D44\u6E90\u6A21\u5757" aria-hidden="true">#</a> asset module\u8D44\u6E90\u6A21\u5757</h2><p>asset module\u8D44\u6E90\u6A21\u5757\uFF0C\u5728webpack5\u4E4B\u524D\uFF0C\u901A\u5E38\u4F7F\u7528\uFF1A</p><ul><li>raw-loader \u5C06\u6587\u4EF6\u5BFC\u5165\u4E3A\u5B57\u7B26\u4E32</li><li>url-loader \u5C06\u6587\u4EF6\u4F5C\u4E3Adata URI\u5185\u8054\u5230bundle\u4E2D</li><li>file-loader \u5C06\u95EE\u4EF7\u53D1\u9001\u5230\u8F93\u51FA\u76EE\u5F55</li></ul><p>\u8D44\u6E90\u6A21\u5757\u901A\u8FC74\u4E2D\u65B0\u7684\u6A21\u5757\u7C7B\u578B\uFF0C\u6765\u66FF\u6362\u4E4B\u524D\u90FDloader\uFF1A</p><ul><li>asset/resource \u53D1\u9001\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u5E76\u5BFC\u51FAURL\uFF08\u4E4B\u524D\u4F7F\u7528file-loader\uFF09</li><li>asset/inline \u5BFC\u51FA\u4E00\u4E2A\u8D44\u6E90\u7684data URI\uFF08\u4E4B\u524D\u4F7F\u7528url-loader\uFF09</li><li>asset/source \u5BFC\u51FA\u8D44\u6E90\u7684\u6E90\u4EE3\u7801\uFF08\u4E4B\u524D\u4F7F\u7528raw-loader\uFF09</li><li>asset \u5728\u5BFC\u51FA\u4E00\u4E2Adata URI\u548C\u53D1\u9001\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u4E4B\u95F4\u81EA\u52A8\u9009\u62E9\uFF08\u4E4B\u524D\u4F7F\u7528url-loader\uFF0C\u5E76\u914D\u7F6E\u8D44\u6E90\u4F53\u79EF\u9650\u5236\uFF09</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;main.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u914D\u7F6Easset\u6587\u4EF6\u8DEF\u5F84\u53CA\u540D\u79F0\uFF0C\u4F18\u5148\u7EA7\u4F4E\u4E8Egenerator.filename</span>
    <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span> <span class="token string">&#39;asset/[hash][ext][query]&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.jpg</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84\u53CA\u540D\u79F0\uFF0C\u4F18\u5148\u7EA7\u9AD8\u4E8Eoutput.assetModuleFilename</span>
          <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;images/[hash][ext][query]&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/inline&#39;</span>
        <span class="token comment">// \u53EF\u901A\u8FC7generator.dataUrl\u81EA\u5B9A\u4E49\u7F16\u7801\u7B97\u6CD5</span>
        <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">dataUrl</span><span class="token operator">:</span> <span class="token parameter">content</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            content <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token function">svgToMiniDataURI</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.txt$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/source&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.png$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">parer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1024</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53D8\u66F4\u5185\u8054loader\u7684\u8BED\u6CD5 \u5728asset\u6A21\u5757\u548Cwebpack5\u4E4B\u524D\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5185\u8054\u8BED\u6CD5\u4E0E\u4E0A\u8FF0loader\u7ED3\u5408\u4F7F\u7528\u3002 \u73B0\u5728\u5EFA\u8BAE\u53D6\u70B9\u6240\u6709\u7684\u5185\u8054loader\u7684\u8BED\u6CD5\uFF0C\u4F7F\u7528\u8D44\u6E90\u67E5\u8BE2\u6761\u4EF6\u6765\u6A21\u4EFF\u5185\u8054\u8BED\u6CD5\u7684\u529F\u80FD\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">-</span> <span class="token keyword">import</span> myModule <span class="token keyword">from</span> <span class="token string">&#39;raw-loader!my-module&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span> <span class="token keyword">import</span> myModule <span class="token keyword">from</span> <span class="token string">&#39;my-module?raw&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack\u76F8\u5173\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">resourceQuery</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">raw</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/source&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u60F3\u628A\u539F\u59CB\u8D44\u6E90\u6392\u9664\u5728\u5176\u4ED6loader\u7684\u5904\u7406\u8303\u56F4\u4EE5\u5916\uFF0C\u8BF7\u4F7F\u7528\u53D6\u53CD\u7684\u539F\u5219\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">resourceQuery</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">not</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">raw</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token operator">...</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">resourecQuery</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">raw</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/source&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6216\u8005\u4F7F\u7528oneOf\u7684\u89C4\u5219\u5217\u8868\u3002\u6B64\u5904\u53EA\u5E94\u7528\u7B2C\u4E00\u4E2A\u5339\u914D\u89C4\u5219\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">resoureceQuery</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">raw</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/sourec&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token operator">...</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,84),o=[p];function l(c,i){return s(),a("div",null,o)}var u=n(t,[["render",l],["__file","index.html.vue"]]);export{u as default};
