import{_ as n,o as s,c as a,d as e}from"./app.30d0ff3e.js";const t={},o=e(`<h1 id="vue3" tabindex="-1"><a class="header-anchor" href="#vue3" aria-hidden="true">#</a> Vue3</h1><h2 id="setup" tabindex="-1"><a class="header-anchor" href="#setup" aria-hidden="true">#</a> setup</h2><ul><li>\u5728<code>setup</code>\u4E2D\u5E94\u907F\u514D\u4F7F\u7528<code>this</code>\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u4F1A\u627E\u5230\u7EC4\u4EF6\u5B9E\u4F8B\u3002<code>setup</code>\u7684\u8C03\u7528\u53D1\u751F\u5728<code>data</code> property\u3001<code>computed</code> property\u548C<code>methods</code>\u88AB\u89E3\u6790\u4E4B\u524D\uFF0C\u6240\u4EE5\u5B83\u4EEC\u65E0\u6CD5\u5728<code>setup</code>\u4E2D\u83B7\u53D6\u3002</li><li>\u56E0\u4E3A<code>setup</code>\u662F\u56F4\u7ED5<code>beforeCreate</code>\u548C<code>created</code>\u751F\u547D\u5468\u671F\u94A9\u5B50\u8FD0\u884C\u7684\uFF0C\u6240\u4EE5\u4E0D\u9700\u8981\u663E\u793A\u7684\u5B9A\u4E49\u5B83\u4EEC\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5728<code>beforeCreate</code>\u548C<code>created</code>\u4E2D\u7F16\u5199\u7684\u4EFB\u4F55\u4EE3\u7801\uFF0C\u90FD\u53EF\u4EE5\u76F4\u63A5\u5728<code>setup</code>\u51FD\u6570\u4E2D\u7F16\u5199\u3002</li><li><code>setup</code>\u9009\u9879\u662F\u4E00\u4E2A\u63A5\u6536<code>props</code>\u548C<code>context</code>\u7684\u51FD\u6570\uFF0C<code>setup(props, context)</code><ul><li><code>props</code>\uFF1A <code>props</code>\u53C2\u6570\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u9700\u8981\u5148\u58F0\u660E<code>props</code>\u5C5E\u6027\u624D\u80FD\u83B7\u53D6\u5230<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> String
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>\u56E0\u4E3A<code>props</code>\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4E0D\u80FD\u4F7F\u7528ES6\u89E3\u6784\uFF0C\u5B83\u4F1A\u6D88\u9664prop\u7684\u54CD\u5E94\u6027\u3002 \u5982\u9700\u8981\u89E3\u6784<code>props</code>\uFF0C\u53EF\u5728<code>setup</code>\u4E2D\u4F7F\u7528<code>toRefs</code>\u51FD\u6570\u6765\u5B8C\u6210\uFF1A<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">import</span> <span class="token punctuation">{</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>\u5982\u679C<code>title</code>\u662F\u53EF\u9009\u7684prop\uFF0C\u5219\u4F20\u5165\u7684<code>props</code>\u4E2D\u53EF\u80FD\u6CA1\u6709<code>title</code>\u3002\u8FD9\u79CD\u60C5\u51B5<code>toRefs</code>\u5C06\u4E0D\u4F1A\u4E3A<code>title</code>\u521B\u5EFA\u4E00\u4E2A<code>ref</code>\u3002\u4F60\u9700\u8981\u4F7F\u7528<code>toRef</code>\u4EE3\u66FF\u5B83:<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> toRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token string">&#39;title&#39;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><code>context</code>\uFF1A<code>context</code>\u53C2\u6570\u662F\u4E00\u4E2A\u666E\u901AJavaScript\u5BF9\u8C61\uFF08\u975E\u54CD\u5E94\u5F0F\uFF09 \u5728\u6267\u884C<code>setup</code>\u65F6\uFF0C\u53EF\u4EE5\u8BBF\u95EE\u4E00\u4E0Bproperty\uFF1A<code>porps</code>\uFF0C<code>attrs</code>\uFF0C<code>slots</code>\uFF0C<code>emit</code>\uFF1B \u4E0D\u80FD\u8BBF\u95EE\u4E00\u4E0B\u9009\u9879\uFF1A<code>data</code>\uFF0C<code>computed</code>\uFF0C<code>methods</code>\uFF0C<code>refs</code></li></ul></li><li>\u5982\u679C<code>setup</code>\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u90A3\u4E48\u8BE5\u5BF9\u8C61\u7684property\u4EE5\u53CA\u4F20\u9012\u7ED9<code>setup</code>\u7684<code>props</code>\u53C2\u6570\u4E2D\u7684property\u90FD\u53EF\u4EE5\u5728\u6A21\u677F\u4E2D\u8BBF\u95EE\u3002\u4ECE<code>setup</code>\u8FD4\u56DE\u7684<code>refs</code>\u5728\u6A21\u677F\u4E2D\u8BBF\u95EE\u65F6\u662F\u88AB\u81EA\u52A8\u6D45\u89E3\u5305\u7684\uFF0C\u56E0\u6B64\u4E0D\u5E94\u8BE5\u5728\u6A21\u677F\u4E2D\u4F7F\u7528<code>.value</code></li><li><code>setup</code>\u8FD8\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u6E32\u67D3\u51FD\u6570\uFF0C\u5F53\u6211\u4EEC\u60F3\u8981\u5C06\u8FD9\u4E2A\u7EC4\u4EF6\u7684\u65B9\u6CD5\u901A\u8FC7\u6A21\u677Fref\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u65F6\uFF0C\u9700\u8981\u4F7F\u7528expose\u6765\u89E3\u51B3</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> h<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span>expose<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">++</span>count<span class="token punctuation">.</span>value

    <span class="token function">expose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      increment
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> count<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="watch\u548Cwatcheffect" tabindex="-1"><a class="header-anchor" href="#watch\u548Cwatcheffect" aria-hidden="true">#</a> watch\u548CwatchEffect</h2><ul><li>\u4E0E watchEffect \u6BD4\u8F83\uFF0C watch \u5141\u8BB8\u6211\u4EEC\uFF1A <ul><li>\u61D2\u6267\u884C\u526F\u4F5C\u7528</li><li>\u66F4\u5177\u4F53\u7684\u8BF4\u660E\u4EC0\u4E48\u72B6\u6001\u5E94\u8BE5\u5904\u7F5A\u4FA6\u542C\u5668\u91CD\u65B0\u8FD0\u884C</li><li>\u8BBF\u95EE\u4FA6\u542C\u5668\u72B6\u6001\u53D8\u5316\u524D\u540E\u7684\u503C</li></ul></li></ul>`,6),p=[o];function c(i,l){return s(),a("div",null,p)}var d=n(t,[["render",c],["__file","index.html.vue"]]);export{d as default};
